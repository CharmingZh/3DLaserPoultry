<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A New Laser Profiling System for Online, Real-Time Detection of Broiler Breast Fillets with Woody Breast</title>
    <style>
        /* ========= Reset & Variables ========= */
        :root {
            --primary-color: #2563eb;
            --primary-dark: #1e40af;
            --text-primary: #1f2937;
            --text-secondary: #6b7280;
            --bg-light: #f9fafb;
            --bg-card: #ffffff;
            --border-color: #e5e7eb;
            --accent-color: #0ea5e9;
            --max-width: 1200px;
            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Inter', 'Segoe UI', Roboto, Arial, sans-serif;
            line-height: 1.6;
            color: var(--text-primary);
            background-color: var(--bg-light);
            -webkit-font-smoothing: antialiased;
        }

        /* ========= Layout ========= */
        .container {
            max-width: var(--max-width);
            margin: 0 auto;
            padding: 60px 20px;
        }

        /* ========= Header ========= */
        .header {
            text-align: center;
            margin-bottom: 60px;
            animation: fadeInUp 0.6s ease-out;
        }

        h1 {
            font-size: clamp(1.8rem, 5vw, 2.8rem);
            font-weight: 800;
            line-height: 1.2;
            color: var(--text-primary);
            margin-bottom: 30px;
            letter-spacing: -0.02em;
        }

        .authors {
            font-size: 1.25rem;
            margin-bottom: 12px;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .authors a {
            color: var(--primary-color);
            text-decoration: none;
            transition: color 0.2s;
        }

        .authors a:hover {
            color: var(--primary-dark);
            text-decoration: underline;
        }

        .affiliation {
            font-size: 1rem;
            color: var(--text-secondary);
            margin-bottom: 40px;
        }

        /* ========= Action Buttons ========= */
        .buttons {
            display: flex;
            justify-content: center;
            gap: 16px;
            margin-bottom: 60px;
            flex-wrap: wrap;
            animation: fadeInUp 0.6s ease-out 0.1s both;
        }

        .button {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            padding: 12px 24px;
            background: var(--bg-card);
            border: 2px solid var(--border-color);
            border-radius: 10px;
            color: var(--text-primary);
            font-weight: 600;
            font-size: 0.95rem;
            text-decoration: none;
            transition: all 0.3s ease;
            box-shadow: var(--shadow-sm);
        }

        .button:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
            border-color: var(--primary-color);
        }

        .button.primary {
            background: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }

        .button.primary:hover {
            background: var(--primary-dark);
            border-color: var(--primary-dark);
        }

        /* ========= Abstract Card ========= */
        .abstract {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 40px;
            margin-bottom: 60px;
            box-shadow: var(--shadow-md);
            animation: fadeInUp 0.6s ease-out 0.2s both;
        }

        .abstract h2 {
            font-size: 1.75rem;
            font-weight: 700;
            margin-bottom: 20px;
            color: var(--text-primary);
        }

        .abstract-content {
            text-align: justify;
            line-height: 1.8;
            color: var(--text-secondary);
            font-size: 1.05rem;
        }

        /* ========= Section Styling ========= */
        .section {
            margin-bottom: 80px;
            animation: fadeInUp 0.6s ease-out;
        }

        .section h2 {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 30px;
            color: var(--text-primary);
            position: relative;
            padding-bottom: 15px;
        }

        .section h2::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 60px;
            height: 3px;
            background: var(--primary-color);
            border-radius: 2px;
        }

        .section p {
            font-size: 1.05rem;
            line-height: 1.8;
            margin-bottom: 20px;
            color: var(--text-secondary);
        }

        /* ========= Figure Styling ========= */
        .figure {
            margin: 40px 0;
            text-align: center;
            background: var(--bg-card);
            border-radius: 12px;
            padding: 20px;
            box-shadow: var(--shadow-sm);
            transition: transform 0.3s ease;
        }

        .figure:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-md);
        }

        .figure img {
            max-width: 100%;
            height: auto;
            border-radius: 8px;
            box-shadow: 0 0 0 1px var(--border-color);
        }

        .figure-caption {
            margin-top: 16px;
            font-size: 0.95rem;
            color: var(--text-secondary);
            text-align: center;
            line-height: 1.6;
            padding: 0 20px;
        }

        /* ========= Modern Table Design ========= */
        .table-container {
            overflow-x: auto;
            margin: 40px 0;
            background: var(--bg-card);
            border-radius: 12px;
            box-shadow: var(--shadow-md);
        }

        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.95rem;
        }

        caption {
            padding: 20px;
            font-weight: 700;
            font-size: 1.1rem;
            text-align: left;
            color: var(--text-primary);
            background: var(--bg-card);
            border-bottom: 2px solid var(--border-color);
        }

        thead {
            background: var(--bg-light);
        }

        thead th {
            padding: 16px 12px;
            text-align: center;
            font-weight: 600;
            color: var(--text-primary);
            border-bottom: 2px solid var(--border-color);
        }

        tbody tr {
            transition: background-color 0.2s;
        }

        tbody tr:hover {
            background: var(--bg-light);
        }

        tbody td {
            padding: 14px 12px;
            text-align: center;
            border-bottom: 1px solid var(--border-color);
        }

        tbody tr:last-child td {
            border-bottom: none;
        }

        /* ========= Enhanced Carousel ========= */
        #wb-carousel {
            background: var(--bg-card);
            border-radius: 12px;
            padding: 30px;
            margin: 40px 0;
            box-shadow: var(--shadow-md);
            position: relative;
        }

        .wb-grid-head {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-bottom: 20px;
        }

        .wb-col-head {
            background: var(--bg-light);
            border-radius: 8px;
            padding: 12px;
            font-weight: 600;
            text-align: center;
            color: var(--text-primary);
            border: 1px solid var(--border-color);
        }

        .wb-controls {
            position: absolute;
            right: 30px;
            top: 30px;
            display: flex;
            gap: 8px;
        }

        .wb-controls button {
            background: var(--primary-color);
            color: white;
            border: none;
            border-radius: 6px;
            padding: 8px 16px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.2s;
        }

        .wb-controls button:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
        }

        .wb-row-group {
            display: none;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            animation: fadeIn 0.4s ease-out;
        }

        .wb-row-group.active {
            display: grid;
        }

        .wb-row-title {
            grid-column: 1 / -1;
            background: var(--primary-color);
            color: white;
            text-align: center;
            padding: 12px;
            border-radius: 8px;
            font-weight: 600;
            margin-bottom: 10px;
        }

        .wb-row-group img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: var(--shadow-sm);
        }

        .wb-row-group img:hover {
            transform: scale(1.05);
            box-shadow: var(--shadow-lg);
        }

        /* Modal */
        #imgModal {
            display: none;
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.9);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(5px);
        }

        #imgModal img {
            max-width: 90vw;
            max-height: 90vh;
            border-radius: 8px;
            box-shadow: 0 0 40px rgba(0, 0, 0, 0.5);
        }

        #imgClose {
            position: absolute;
            top: 30px;
            right: 40px;
            font-size: 2.5rem;
            color: white;
            cursor: pointer;
            background: rgba(0, 0, 0, 0.5);
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
        }

        #imgClose:hover {
            background: rgba(0, 0, 0, 0.8);
            transform: rotate(90deg);
        }

        /* ========= BibTeX Section ========= */
        .bibtex-section {
            background: var(--bg-card);
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 60px;
            box-shadow: var(--shadow-md);
        }

        .bibtex-content {
            background: var(--bg-light);
            padding: 20px;
            border-radius: 8px;
            font-family: 'SF Mono', 'Monaco', 'Inconsolata', monospace;
            font-size: 0.9rem;
            line-height: 1.5;
            overflow-x: auto;
            border: 1px solid var(--border-color);
        }

        /* ========= Footer ========= */
        .contact {
            text-align: center;
            padding: 40px 0;
            border-top: 1px solid var(--border-color);
            color: var(--text-secondary);
            font-size: 0.95rem;
        }

        .contact a {
            color: var(--primary-color);
            text-decoration: none;
        }

        .contact a:hover {
            text-decoration: underline;
        }

        /* ========= Animations ========= */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* ========= Responsive Design ========= */
        @media (max-width: 768px) {
            .container {
                padding: 40px 16px;
            }

            h1 {
                font-size: 1.8rem;
            }

            .buttons {
                flex-direction: column;
                gap: 12px;
                align-items: stretch;
            }

            .button {
                justify-content: center;
                width: 100%;
            }

            .abstract {
                padding: 24px;
            }

            .wb-grid-head,
            .wb-row-group {
                grid-template-columns: 1fr;
            }

            .wb-controls {
                position: static;
                justify-content: center;
                margin-bottom: 20px;
            }

            table {
                font-size: 0.85rem;
            }

            thead th,
            tbody td {
                padding: 10px 8px;
            }
        }

        /* ========= Print Styles ========= */
        @media print {
            body {
                background: white;
            }

            .buttons,
            .wb-controls,
            #imgModal {
                display: none !important;
            }

            .section {
                page-break-inside: avoid;
            }
        }

        /* ========= Custom Scrollbar ========= */
        ::-webkit-scrollbar {
            width: 10px;
            height: 10px;
        }

        ::-webkit-scrollbar-track {
            background: var(--bg-light);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--text-secondary);
            border-radius: 5px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--text-primary);
        }
    </style>
</head>
<body>
<div class="container">
    <!-- Header -->
    <header class="header">
        <h1>Proof-of-Concept Evaluation of A 3D Laser Profiling System Prototype for Real-Time Woody Breast Detection in Broiler Breast Fillets</h1>
        <div class="authors">
            <a href="https://charmingzh.github.io/">Jiaming Zhang</a>,
            <a href="https://www.yuzhenlu.com/">Yuzhen Lu</a><sup>*</sup>
        </div>
        <div class="affiliation">
            Department of Biosystems and Agricultural Engineering, Michigan State University
        </div>
    </header>

    <!-- Action Buttons -->
    <div class="buttons">
        <a href="https://github.com/CharmingZh/3DLaserPoultry" class="button primary">
            📄 Paper
        </a>
        <a href="https://github.com/CharmingZh/3DLaserPoultry" class="button">
            💻 Code
        </a>
        <a href="https://github.com/CharmingZh/3DLaserPoultry" class="button">
            📎 Supplementary
        </a>
    </div>

    <!-- Abstract -->
    <section class="abstract">
        <h2>Abstract</h2>
        <div class="abstract-content">
            Woody breast (WB) myopathy is a muscle quality defect of poultry breast meat that causes product downgrading or rejection, and significant economic losses for poultry industries worldwide. Current detection of WB in poultry processing plants relies on manual palpation and visual inspection, which is labour-intensive and subjective. Surface profilometry or three-dimensional (3D) vision techniques that measure surface topography of objects offer a potentially useful method for WB assessment and grading, since WB alters the shape of chicken breasts. This study presents a proof-of-concept evaluation of an innovative, custom-built 3D laser profiling system prototype for online, real-time detection of broiler breast fillets with WB through 3D reconstruction and machine learning. The system employed a line laser to scan samples at a rate of 120 frames per second (fps), and with a dedicated calibrated algorithm pipeline, could reconstruct the shape of samples at a rate of approximately 107 fps. Compared to a red line laser (λ=660 nm), a blue line laser (λ=450 nm) yielded better 3D reconstruction, with the z-axis (depth/height) reconstruction error of 0.29, 0.73, and 2.56 mm at the conveyor speed of 5, 10, and 15 cm/s, respectively; higher conveyor speeds resulted in reduced point cloud density and elevated image noise. A set of 310 chicken breast fillets, manually graded by trained personnel for WB conditions, was scanned under the illumination of a blue line laser at the three conveyor speeds for WB assessment. Classification models were built using two approaches, i.e., support vector machine (SVM) trained with the hand-crafted features from the 2D projection of reconstructed shape, and deep learning through an end-to-end PointNet++ trained with the 3D points. At the conveyor speed of 5 cm/s, the PointNet++ model attained a better overall accuracy of 88.9%; the higher speed of 10-15 cm/s resulted in slightly reduced accuracy for both models. This study has demonstrated the promise of the proposed 3D laser profiling system for online, high-speed WB inspection of poultry meat, which has potential for practical application. The software programs of this study have been made publicly available.
        </div>
    </section>

    <!-- Research Background -->
    <section class="section">
        <h2>Research Background</h2>
        <p>
            Woody Breast (WB) myopathy has emerged as one of the most costly quality defects in modern broiler production, with
            flock-level surveys showing overall incidences &gt; 70% and ~ 12% of carcasses graded as "severe"
            [<a href="https://doi.org/10.1017/S0043933915000367" target="_blank">Petracci et al., 2015</a>;
            <a href="https://doi.org/10.19103/AS.2022.0112.11" target="_blank">Bordini et al., 2023</a>;
            <a href="https://doi.org/10.1371/journal.pone.0267019" target="_blank">Che et al., 2022</a>].
            The resulting abnormal hardening of the <em>Pectoralis major</em> markedly lowers consumer acceptance and is estimated
            to cost the North-American poultry sector hundreds of millions of dollars annually
            (<a href="https://doi.org/10.3382/ps/pew216" target="_blank">Kuttappan et al., 2016</a>).
        </p>

        <p>
            On today's processing lines, WB assessment still depends on manual palpation and visual inspection, which is
            labor-intensive, subjective, and exposes product surfaces to cross-contamination
            (<a href="https://doi.org/10.3382/ps/pey333" target="_blank">Livingston et al., 2019</a>;
            <a href="https://doi.org/10.1016/j.psj.2019.12.072" target="_blank">Pang et al., 2020</a>;
            <a href="https://doi.org/10.15232/aas.2019-01953" target="_blank">Ross et al., 2020</a>).
            Reported mis-classification rates can reach 25%<sup><a href="https://www.certifiedqualityfoods.com/copy-of-aquaculture" target="_blank">[1]</a></sup>,
            and operator accuracy may fall to ≈ 60%<sup><a href="https://www.automateandcontrol.com/how-we-protect-against-the-cost-of-muscle-abnormalities-in-broilerbreast-meat-including-woody-breast-and-white-striping/" target="_blank">[2]</a></sup> after prolonged shifts because of fatigue.
            These shortcomings create an urgent demand for an objective, rapid, and non-contact on-line solution.
        </p>

        <div class="figure">
            <img src="./src/Fig_1.jpeg" alt="Samples">
            <p class="figure-caption">
                <strong>Figure 1:</strong>
                (Left) Sampling and Woody Breast (WB) Assessment at a Poultry Processing Facility, and
                (Right) top view of normal and WB-affected samples.
            </p>
        </div>

        <p>
            In our earlier work we first proposed <strong>broadband light-scattering imaging (B-LSI)</strong>, in which a collimated broadband
            beam illuminates the fillet and a monochrome camera records saturation/attenuation profiles; shape descriptors from
            these profiles achieved <strong>92.3% accuracy</strong> in differentiating normal and WB fillets
            (<a href="https://doi.org/10.1371/10.13031/ja.16108" target="_blank">Cai & Lu 2025a</a>).
            We then built a <strong>hyperspectral LSI (H-LSI)</strong> prototype covering 400–1000 nm
            (<a href="https://doi.org/10.1117/12.3053515" target="_blank">Mu & Lu 2025</a>).
            Both LSI variants rely on push-broom line scanning, requiring ~ 5 s (B-LSI) and ~ 12 s (H-LSI) per fillet—far
            slower than the sub-second cycle times demanded by commercial conveyors.
            To capture the ridge-like bulging characteristic of WB, we next developed
            <strong>structured illumination reflectance imaging (SIRI)</strong> with phase-measuring profilometry; dense surface geometry
            alone separated WB from normal fillets with ≈ 93% accuracy, an 8–11% gain over 2-D intensity features
            (<a href="https://doi.org/10.1016/j.jfoodeng.2024.112459" target="_blank">Cai & Lu 2025b</a>).
            SIRI, however, requires three phase-shift exposures per view, limiting belt speed and motivating our pursuit of
            high-throughput laser triangulation.
        </p>
    </section>

    <!-- Method Overview -->
    <section class="section">
        <h2>Method Overview</h2>
        <p>
            Active laser-triangulation ranging delivers sub-millimetre depth at video rates and remains robust on glossy,
            texture-less chicken surfaces. This project will therefore develop a <em>line-laser triangulation 3-D vision system</em>,
            integrating support-vector machines and a PointNet++ network, to enable <strong>real-time WB detection and grading on moving
            conveyor belts</strong>—bridging the gap between laboratory prototypes and the industrial need for high-throughput,
            reliable inspection.
        </p>

        <div class="figure">
            <img src="./src/Fig_2.jpeg" alt="Pipeline" style="max-width: 65%;">
            <p class="figure-caption">
                <strong>Figure 2:</strong>
                The schematic of a 3D laser profiling system designed for online woody breast inspection of
                chicken breast fillets.
            </p>
        </div>

        <p>
            <strong>Figures 2 and 3</strong> depict the overall workflow of system calibration and 3D reconstruction.
            Briefly, the calibration phase established the system's geometric reference frame, performed
            camera calibration, estimated the pose of each calibration board, and determined the laser
            plane. Meanwhile, the displacement of the calibration board was tracked, and the exact
            amount of movement of the conveyor belt between adjacent frames was recorded. With the
            knowledge of the laser plane, the detected pixels were to be converted instantly and rigidly
            into a dense, single-frame point cloud and merged with previous clouds to form a global
            model in the 3D reconstruction phase. After further point cloud processing (e.g., denoising
            and fillet segmentation), the consolidated point cloud would be utilized for downstream
            modeling and sample classification.
        </p>

        <div class="figure">
            <img src="./src/Fig_3.jpeg" alt="Workflow" style="max-width: 90%;">
            <p class="figure-caption">
                <strong>Figure 3:</strong>
                System calibration and online 3D reconstruction workflow of the laser profiling system.
            </p>
        </div>

        <p>
            We employ two complementary pipelines for classifying WB point clouds:
            <br><br>
            <strong>1. Manual features + SVM</strong> — First, the 3D point cloud is projected into a 192×192 height map, then
            texture features (LBP, BSIF, and HOG) are extracted, standardized,
            and input into RBF-SVM, with parameters optimized through cross-validation.
            <br><br>
            <strong>2. Enhanced PointNet++</strong> — Center-normalize the original point cloud, add normal vectors and curvature,
            and use four-level MSG set-based sampling to learn
            local-global geometric features, then directly output the binary classification probability.
            <br><br>
            Both models were tested on three speed conditions (5, 10, and 15 cm/s) with training, validation,
            and test sets randomly split into 70/15/15% and repeated 50 times.
        </p>
    </section>


    <!-- Experimental Results -->
    <section class="section">
        <h2>Experimental Results</h2>

        <!-- Detail Carousel -->
        <div id="detail-carousel" class="detail-carousel">
            <div class="carousel-header">
                <h3>3D Reconstruction: Blue vs Red Laser Comparison</h3>
                <div class="carousel-controls">
                    <button class="carousel-btn" id="detailPrev">◀ Previous</button>
                    <span class="carousel-indicator">
                            <span id="currentSlide">1</span> / <span id="totalSlides">2</span>
                        </span>
                    <button class="carousel-btn" id="detailNext">Next ▶</button>
                </div>
            </div>

            <!-- Slide 1: TCB Comparison -->
            <div class="carousel-slide active">
                <h4 class="slide-title">Trapezoidal Calibration Block (TCB) - 3D Reconstruction Comparison</h4>
                <div class="image-grid">
                    <div class="image-item">
                        <img src="./src/detail_plot/red_vs_blue/subplot_1.png" alt="Blue Laser TCB">
                        <p class="image-caption">
                            <strong>Blue Line Laser (450nm)</strong><br>
                            Superior depth resolution with minimal noise and clear edge
                        </p>
                    </div>
                    <div class="image-item">
                        <img src="./src/detail_plot/red_vs_blue/subplot_2.png" alt="Red Laser TCB">
                        <p class="image-caption">
                            <strong>Red Line Laser (660nm)</strong><br>
                            Higher noise levels and reduced accuracy in depth measurement
                        </p>
                    </div>
                </div>
            </div>

            <!-- Slide 2: Chicken Breast Comparison -->
            <div class="carousel-slide">
                <h4 class="slide-title">Chicken Breast Fillet - Surface Comparison</h4>
                <div class="image-grid">
                    <div class="image-item">
                        <img src="./src/detail_plot/red_vs_blue/subplot_3.png" alt="Blue Laser Fillet">
                        <p class="image-caption">
                            <strong>Blue Line Laser (450nm)</strong><br>
                            Clear surface features for WB detection algorithms
                        </p>
                    </div>
                    <div class="image-item">
                        <img src="./src/detail_plot/red_vs_blue/subplot_4.png" alt="Red Laser Fillet">
                        <p class="image-caption">
                            <strong>Red Line Laser (660nm)</strong><br>
                            Reduced surface detail visibility and increaced noise due to tissue penetration effects
                        </p>
                    </div>
                </div>
            </div>

            <!-- Progress dots -->
            <div class="carousel-dots">
                <span class="dot active" data-slide="0"></span>
                <span class="dot" data-slide="1"></span>
            </div>
        </div>

        <style>
            /* Enhanced Detail Carousel Styles */
            .detail-carousel {
                background: var(--bg-card);
                border-radius: 16px;
                padding: 40px;
                margin: 40px 0;
                box-shadow: var(--shadow-lg);
            }

            .carousel-header {
                display: flex;
                justify-content: space-between;
                align-items: center;
                margin-bottom: 30px;
                flex-wrap: wrap;
                gap: 20px;
            }

            .carousel-header h3 {
                font-size: 1.5rem;
                color: var(--text-primary);
                margin: 0;
            }

            .carousel-controls {
                display: flex;
                align-items: center;
                gap: 20px;
            }

            .carousel-btn {
                background: var(--primary-color);
                color: white;
                border: none;
                border-radius: 8px;
                padding: 10px 20px;
                font-weight: 600;
                cursor: pointer;
                transition: all 0.3s ease;
            }

            .carousel-btn:hover {
                background: var(--primary-dark);
                transform: translateY(-2px);
                box-shadow: var(--shadow-md);
            }

            .carousel-indicator {
                font-weight: 600;
                color: var(--text-secondary);
            }

            .carousel-slide {
                display: none;
                animation: slideIn 0.5s ease-out;
            }

            .carousel-slide.active {
                display: block;
            }

            .slide-title {
                font-size: 1.25rem;
                color: var(--text-primary);
                margin-bottom: 25px;
                text-align: center;
                font-weight: 600;
            }

            .image-grid {
                display: grid;
                grid-template-columns: repeat(2, 1fr);
                gap: 30px;
                align-items: start;
            }

            .image-item {
                background: var(--bg-light);
                border-radius: 12px;
                overflow: hidden;
                transition: all 0.3s ease;
                cursor: pointer;
                border: 1px solid var(--border-color);
            }

            .image-item:hover {
                transform: translateY(-5px);
                box-shadow: var(--shadow-lg);
                border-color: var(--primary-color);
            }

            .image-item img {
                width: 100%;
                height: auto;
                min-height: 200px;
                max-height: 400px;
                object-fit: contain;
                background: #f8f9fa;
                transition: transform 0.3s ease;
            }

            .image-item:hover img {
                transform: scale(1.02);
            }

            .image-caption {
                padding: 20px;
                font-size: 0.95rem;
                color: var(--text-secondary);
                line-height: 1.6;
                text-align: center;
                background: var(--bg-light);
            }

            .image-caption strong {
                color: var(--text-primary);
                display: block;
                margin-bottom: 8px;
                font-size: 1rem;
            }

            .carousel-dots {
                display: flex;
                justify-content: center;
                gap: 10px;
                margin-top: 30px;
            }

            .dot {
                width: 12px;
                height: 12px;
                border-radius: 50%;
                background: var(--border-color);
                cursor: pointer;
                transition: all 0.3s ease;
            }

            .dot.active {
                background: var(--primary-color);
                transform: scale(1.2);
            }

            .dot:hover {
                background: var(--text-secondary);
            }

            @keyframes slideIn {
                from {
                    opacity: 0;
                    transform: translateX(20px);
                }
                to {
                    opacity: 1;
                    transform: translateX(0);
                }
            }

            /* Detail Modal for carousel images */
            #detailModal {
                display: none;
                position: fixed;
                inset: 0;
                background: rgba(0, 0, 0, 0.95);
                z-index: 1001;
                justify-content: center;
                align-items: center;
                padding: 40px;
            }

            #detailModal img {
                max-width: 90vw;
                max-height: 90vh;
                border-radius: 12px;
                box-shadow: 0 0 60px rgba(0, 0, 0, 0.5);
                object-fit: contain;
            }

            #detailModal .modal-caption {
                position: absolute;
                bottom: 40px;
                left: 50%;
                transform: translateX(-50%);
                background: rgba(0, 0, 0, 0.8);
                color: white;
                padding: 15px 30px;
                border-radius: 8px;
                font-size: 0.95rem;
                text-align: center;
                max-width: 80%;
                backdrop-filter: blur(10px);
            }

            #detailClose {
                position: absolute;
                top: 30px;
                right: 40px;
                font-size: 2.5rem;
                color: white;
                cursor: pointer;
                background: rgba(0, 0, 0, 0.5);
                width: 50px;
                height: 50px;
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
                transition: all 0.2s;
            }

            #detailClose:hover {
                background: rgba(0, 0, 0, 0.8);
                transform: rotate(90deg);
            }

            /* Responsive design for carousel */
            @media (max-width: 768px) {
                .detail-carousel {
                    padding: 25px;
                }

                .carousel-header {
                    flex-direction: column;
                    gap: 20px;
                }

                .carousel-header h3 {
                    font-size: 1.25rem;
                    text-align: center;
                }

                .carousel-controls {
                    flex-wrap: wrap;
                    justify-content: center;
                }

                .carousel-btn {
                    padding: 8px 16px;
                    font-size: 0.9rem;
                }

                .image-grid {
                    grid-template-columns: 1fr;
                    gap: 20px;
                }

                .image-item img {
                    min-height: 150px;
                    max-height: 300px;
                }
            }
        </style>

        <!-- Detail Modal -->
        <div id="detailModal">
            <span id="detailClose">&times;</span>
            <img id="detailModalImg" src="#" alt="Detail view">
            <div class="modal-caption" id="detailModalCaption"></div>
        </div>

        <script>
            // Detail Carousel functionality
            (function() {
                const slides = document.querySelectorAll('#detail-carousel .carousel-slide');
                const dots = document.querySelectorAll('#detail-carousel .dot');
                const prevBtn = document.getElementById('detailPrev');
                const nextBtn = document.getElementById('detailNext');
                const currentSlideSpan = document.getElementById('currentSlide');
                const totalSlidesSpan = document.getElementById('totalSlides');

                let currentSlide = 0;
                totalSlidesSpan.textContent = slides.length;

                function showSlide(n) {
                    slides[currentSlide].classList.remove('active');
                    dots[currentSlide].classList.remove('active');

                    currentSlide = (n + slides.length) % slides.length;

                    slides[currentSlide].classList.add('active');
                    dots[currentSlide].classList.add('active');
                    currentSlideSpan.textContent = currentSlide + 1;
                }

                prevBtn.addEventListener('click', () => showSlide(currentSlide - 1));
                nextBtn.addEventListener('click', () => showSlide(currentSlide + 1));

                dots.forEach((dot, index) => {
                    dot.addEventListener('click', () => showSlide(index));
                });

                // Auto-play functionality
                let autoPlayTimer;
                const startAutoPlay = () => {
                    autoPlayTimer = setInterval(() => showSlide(currentSlide + 1), 6000);
                };
                const stopAutoPlay = () => clearInterval(autoPlayTimer);

                // Start auto-play
                startAutoPlay();

                // Pause on hover
                const carousel = document.getElementById('detail-carousel');
                carousel.addEventListener('mouseenter', stopAutoPlay);
                carousel.addEventListener('mouseleave', startAutoPlay);

                // Detail modal functionality
                const detailModal = document.getElementById('detailModal');
                const detailModalImg = document.getElementById('detailModalImg');
                const detailModalCaption = document.getElementById('detailModalCaption');
                const detailCloseBtn = document.getElementById('detailClose');

                // Add click handlers to all images in the carousel
                document.querySelectorAll('#detail-carousel .image-item').forEach(item => {
                    item.addEventListener('click', function() {
                        const img = this.querySelector('img');
                        const caption = this.querySelector('.image-caption').innerHTML;

                        detailModalImg.src = img.src;
                        detailModalCaption.innerHTML = caption;
                        detailModal.style.display = 'flex';
                        stopAutoPlay();
                    });
                });

                const hideDetailModal = () => {
                    detailModal.style.display = 'none';
                    startAutoPlay();
                };

                detailCloseBtn.onclick = hideDetailModal;
                detailModal.onclick = (e) => {
                    if (e.target === detailModal) hideDetailModal();
                };

                // Keyboard navigation
                document.addEventListener('keydown', (e) => {
                    if (detailModal.style.display === 'flex') {
                        if (e.key === 'Escape') hideDetailModal();
                    } else {
                        if (e.key === 'ArrowLeft') showSlide(currentSlide - 1);
                        if (e.key === 'ArrowRight') showSlide(currentSlide + 1);
                    }
                });
            })();
        </script>

        <!-- Speed Comparison Carousel -->
        <div id="speed-carousel" class="detail-carousel">
            <div class="carousel-header">
                <h3>3D Reconstruction Quality at Different Conveyor Speeds</h3>
                <div class="carousel-controls">
                    <button class="carousel-btn" id="speedPrev">◀ Previous</button>
                    <span class="carousel-indicator">
                            <span id="speedCurrentSlide">1</span> / <span id="speedTotalSlides">3</span>
                        </span>
                    <button class="carousel-btn" id="speedNext">Next ▶</button>
                </div>
            </div>

            <!-- Slide 1: TCB -->
            <div class="carousel-slide active">
                <h4 class="slide-title">Trapezoidal Calibration Block (TCB) - Speed Impact Analysis</h4>
                <div class="speed-grid">
                    <div class="speed-item">
                        <img src="./src/detail_plot/speed/subplot_01.png" alt="TCB 5cm/s">
                        <p class="speed-caption">
                            <strong>Low Speed (5 cm/s)</strong>
                        </p>
                    </div>
                    <div class="speed-item">
                        <img src="./src/detail_plot/speed/subplot_02.png" alt="TCB 10cm/s">
                        <p class="speed-caption">
                            <strong>Medium Speed (10 cm/s)</strong>
                        </p>
                    </div>
                    <div class="speed-item">
                        <img src="./src/detail_plot/speed/subplot_03.png" alt="TCB 15cm/s">
                        <p class="speed-caption">
                            <strong>High Speed (15 cm/s)</strong>
                        </p>
                    </div>
                </div>
            </div>

            <!-- Slide 2: Normal Sample -->
            <div class="carousel-slide">
                <h4 class="slide-title">Normal Chicken Breast Fillet - Surface Reconstruction</h4>
                <div class="speed-grid">
                    <div class="speed-item">
                        <img src="./src/detail_plot/speed/subplot_04.png" alt="Normal 5cm/s">
                        <p class="speed-caption">
                            <strong>Low Speed (5 cm/s)</strong>
                        </p>
                    </div>
                    <div class="speed-item">
                        <img src="./src/detail_plot/speed/subplot_05.png" alt="Normal 10cm/s">
                        <p class="speed-caption">
                            <strong>Medium Speed (10 cm/s)</strong>
                        </p>
                    </div>
                    <div class="speed-item">
                        <img src="./src/detail_plot/speed/subplot_06.png" alt="Normal 15cm/s">
                        <p class="speed-caption">
                            <strong>High Speed (15 cm/s)</strong>
                        </p>
                    </div>
                </div>
            </div>

            <!-- Slide 3: WB Sample -->
            <div class="carousel-slide">
                <h4 class="slide-title">WB-Affected Sample - Characteristic Ridge Detection</h4>
                <div class="speed-grid">
                    <div class="speed-item">
                        <img src="./src/detail_plot/speed/subplot_07.png" alt="WB 5cm/s">
                        <p class="speed-caption">
                            <strong>Low Speed (5 cm/s)</strong>
                        </p>
                    </div>
                    <div class="speed-item">
                        <img src="./src/detail_plot/speed/subplot_08.png" alt="WB 10cm/s">
                        <p class="speed-caption">
                            <strong>Medium Speed (10 cm/s)</strong>
                        </p>
                    </div>
                    <div class="speed-item">
                        <img src="./src/detail_plot/speed/subplot_09.png" alt="WB 15cm/s">
                        <p class="speed-caption">
                            <strong>High Speed (15 cm/s)</strong>
                        </p>
                    </div>
                </div>
            </div>

            <!-- Progress dots -->
            <div class="carousel-dots">
                <span class="speed-dot active" data-slide="0"></span>
                <span class="speed-dot" data-slide="1"></span>
                <span class="speed-dot" data-slide="2"></span>
            </div>
        </div>

        <style>
            /* Speed Carousel Specific Styles */
            .speed-grid {
                display: grid;
                grid-template-columns: repeat(3, 1fr);
                gap: 20px;
                align-items: start;
            }

            .speed-item {
                background: var(--bg-light);
                border-radius: 12px;
                overflow: hidden;
                transition: all 0.3s ease;
                cursor: pointer;
                border: 1px solid var(--border-color);
            }

            .speed-item:hover {
                transform: translateY(-5px);
                box-shadow: var(--shadow-lg);
                border-color: var(--primary-color);
            }

            .speed-item img {
                width: 100%;
                height: auto;
                min-height: 180px;
                max-height: 300px;
                object-fit: contain;
                background: #f8f9fa;
                transition: transform 0.3s ease;
            }

            .speed-item:hover img {
                transform: scale(1.02);
            }

            .speed-caption {
                padding: 16px;
                font-size: 0.9rem;
                color: var(--text-secondary);
                line-height: 1.5;
                text-align: center;
                background: var(--bg-light);
            }

            .speed-caption strong {
                color: var(--text-primary);
                display: block;
                margin-bottom: 6px;
                font-size: 0.95rem;
            }

            .speed-dot {
                width: 12px;
                height: 12px;
                border-radius: 50%;
                background: var(--border-color);
                cursor: pointer;
                transition: all 0.3s ease;
            }

            .speed-dot.active {
                background: var(--primary-color);
                transform: scale(1.2);
            }

            .speed-dot:hover {
                background: var(--text-secondary);
            }

            /* Speed Modal */
            #speedModal {
                display: none;
                position: fixed;
                inset: 0;
                background: rgba(0, 0, 0, 0.95);
                z-index: 1002;
                justify-content: center;
                align-items: center;
                padding: 40px;
            }

            #speedModal img {
                max-width: 90vw;
                max-height: 90vh;
                border-radius: 12px;
                box-shadow: 0 0 60px rgba(0, 0, 0, 0.5);
                object-fit: contain;
            }

            #speedModal .modal-caption {
                position: absolute;
                bottom: 40px;
                left: 50%;
                transform: translateX(-50%);
                background: rgba(0, 0, 0, 0.8);
                color: white;
                padding: 15px 30px;
                border-radius: 8px;
                font-size: 0.95rem;
                text-align: center;
                max-width: 80%;
                backdrop-filter: blur(10px);
            }

            #speedClose {
                position: absolute;
                top: 30px;
                right: 40px;
                font-size: 2.5rem;
                color: white;
                cursor: pointer;
                background: rgba(0, 0, 0, 0.5);
                width: 50px;
                height: 50px;
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
                transition: all 0.2s;
            }

            #speedClose:hover {
                background: rgba(0, 0, 0, 0.8);
                transform: rotate(90deg);
            }

            /* Responsive design for speed carousel */
            @media (max-width: 992px) {
                .speed-grid {
                    grid-template-columns: 1fr;
                    gap: 16px;
                }

                .speed-item {
                    max-width: 500px;
                    margin: 0 auto;
                }
            }

            @media (max-width: 768px) {
                #speed-carousel .carousel-header h3 {
                    font-size: 1.2rem;
                }

                .speed-item img {
                    min-height: 150px;
                    max-height: 250px;
                }

                .speed-caption {
                    padding: 12px;
                    font-size: 0.85rem;
                }
            }
        </style>

        <!-- Speed Modal -->
        <div id="speedModal">
            <span id="speedClose">&times;</span>
            <img id="speedModalImg" src="#" alt="Detail view">
            <div class="modal-caption" id="speedModalCaption"></div>
        </div>

        <script>
            // Speed Carousel functionality
            (function() {
                const slides = document.querySelectorAll('#speed-carousel .carousel-slide');
                const dots = document.querySelectorAll('#speed-carousel .speed-dot');
                const prevBtn = document.getElementById('speedPrev');
                const nextBtn = document.getElementById('speedNext');
                const currentSlideSpan = document.getElementById('speedCurrentSlide');
                const totalSlidesSpan = document.getElementById('speedTotalSlides');

                let currentSlide = 0;
                totalSlidesSpan.textContent = slides.length;

                function showSlide(n) {
                    slides[currentSlide].classList.remove('active');
                    dots[currentSlide].classList.remove('active');

                    currentSlide = (n + slides.length) % slides.length;

                    slides[currentSlide].classList.add('active');
                    dots[currentSlide].classList.add('active');
                    currentSlideSpan.textContent = currentSlide + 1;
                }

                prevBtn.addEventListener('click', () => showSlide(currentSlide - 1));
                nextBtn.addEventListener('click', () => showSlide(currentSlide + 1));

                dots.forEach((dot, index) => {
                    dot.addEventListener('click', () => showSlide(index));
                });

                // Auto-play functionality
                let autoPlayTimer;
                const startAutoPlay = () => {
                    autoPlayTimer = setInterval(() => showSlide(currentSlide + 1), 7000);
                };
                const stopAutoPlay = () => clearInterval(autoPlayTimer);

                // Start auto-play
                startAutoPlay();

                // Pause on hover
                const carousel = document.getElementById('speed-carousel');
                carousel.addEventListener('mouseenter', stopAutoPlay);
                carousel.addEventListener('mouseleave', startAutoPlay);

                // Speed modal functionality
                const speedModal = document.getElementById('speedModal');
                const speedModalImg = document.getElementById('speedModalImg');
                const speedModalCaption = document.getElementById('speedModalCaption');
                const speedCloseBtn = document.getElementById('speedClose');

                // Add click handlers to all images in the speed carousel
                document.querySelectorAll('#speed-carousel .speed-item').forEach(item => {
                    item.addEventListener('click', function() {
                        const img = this.querySelector('img');
                        const caption = this.querySelector('.speed-caption').innerHTML;

                        speedModalImg.src = img.src;
                        speedModalCaption.innerHTML = caption;
                        speedModal.style.display = 'flex';
                        stopAutoPlay();
                    });
                });

                const hideSpeedModal = () => {
                    speedModal.style.display = 'none';
                    startAutoPlay();
                };

                speedCloseBtn.onclick = hideSpeedModal;
                speedModal.onclick = (e) => {
                    if (e.target === speedModal) hideSpeedModal();
                };

                // Keyboard navigation
                document.addEventListener('keydown', (e) => {
                    if (speedModal.style.display === 'flex') {
                        if (e.key === 'Escape') hideSpeedModal();
                    }
                });
            })();
        </script>

        <!-- Table 1 -->
        <div class="table-container">
            <table>
                <caption>Table 1 · Reconstruction Performance for a Trapezoidal Calibration Block (TCB)</caption>
                <thead>
                <tr>
                    <th rowspan="2">Conveyor speed</th>
                    <th colspan="3">Mean Absolute Error (MAE, mm)</th>
                    <th colspan="3">Mean Absolute Percentage Error (MAPE, %)</th>
                    <th rowspan="2">Density (PTS/cm<sup>2</sup>)</th>
                </tr>
                <tr>
                    <th>x-axis</th>
                    <th>y-axis</th>
                    <th>z-axis</th>
                    <th>x-axis</th>
                    <th>y-axis</th>
                    <th>z-axis</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>5 cm/s</td>
                    <td>1.58</td>
                    <td>0.52</td>
                    <td>0.29</td>
                    <td>1.50</td>
                    <td>0.68</td>
                    <td>0.87</td>
                    <td>82.7</td>
                </tr>
                <tr>
                    <td>10 cm/s</td>
                    <td>1.75</td>
                    <td>3.44</td>
                    <td>0.73</td>
                    <td>1.66</td>
                    <td>4.52</td>
                    <td>2.21</td>
                    <td>46.6</td>
                </tr>
                <tr>
                    <td>15 cm/s</td>
                    <td>2.13</td>
                    <td>5.30</td>
                    <td>2.56</td>
                    <td>2.03</td>
                    <td>6.96</td>
                    <td>7.70</td>
                    <td>31.0</td>
                </tr>
                <tr style="font-weight: 600; background: var(--bg-light);">
                    <td><em>Average</em></td>
                    <td>1.82</td>
                    <td>3.09</td>
                    <td>1.19</td>
                    <td>1.73</td>
                    <td>4.05</td>
                    <td>3.59</td>
                    <td>53.4</td>
                </tr>
                </tbody>
            </table>
        </div>

        <div class="figure">
            <img src="./src/Fig_5.jpeg" alt="Side-view visualization" style="max-width: 75%;">
            <p class="figure-caption">
                <strong>Figure 4:</strong>
                Side-view (Y-Z) of 3D reconstruction of a trapezoidal calibration block (TCB) (top), normal fillet
                (middle), and WB-affected fillet (bottom) at three conveyor speeds, where the color indicates height
                on the z-axis.
            </p>
        </div>

        <div class="figure">
            <img src="./src/Fig_4.jpeg" alt="Top-view visualization" style="max-width: 75%;">
            <p class="figure-caption">
                <strong>Figure 5:</strong>
                Top-view (X-Y) of 3D reconstruction of a trapezoidal calibration block (TCB) (top),
                normal fillet (middle), and WB-affected fillet (bottom) at three conveyor speeds, where the color
                indicates height on the z-axis.
            </p>
        </div>



        <!-- Table 2 -->
        <div class="table-container">
            <table>
                <caption>Table 2 · WB Classification Performance Metrics (50× Repeats)</caption>
                <thead>
                <tr>
                    <th rowspan="2">Conveyor speed</th>
                    <th colspan="2">Feature-based SVM</th>
                    <th colspan="2">PointNet++</th>
                </tr>
                <tr>
                    <th>ACC (%)</th>
                    <th>Recall (%)</th>
                    <th>ACC (%)</th>
                    <th>Recall (%)</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>5 cm/s</td>
                    <td>88.42 ±2.03</td>
                    <td>87.66 ±2.73</td>
                    <td>88.91 ±1.83</td>
                    <td>89.5 ±2.11</td>
                </tr>
                <tr>
                    <td>10 cm/s</td>
                    <td>86.19 ±4.12</td>
                    <td>85.12 ±3.58</td>
                    <td>84.28 ±3.87</td>
                    <td>83.0 ±3.74</td>
                </tr>
                <tr>
                    <td>15 cm/s</td>
                    <td>82.53 ±4.68</td>
                    <td>81.01 ±4.89</td>
                    <td>80.91 ±4.13</td>
                    <td>79.0 ±4.40</td>
                </tr>
                </tbody>
            </table>
        </div>
    </section>

    <!-- BibTeX -->
    <section class="bibtex-section">
        <h2>Citation</h2>
        <pre class="bibtex-content">@unpublished{zhang2025laser,
    title   = {A New Laser Profiling System for Online, Real-Time Detection of
              Broiler Breast Fillets with Woody Breast},
    author  = {Zhang, Jiaming and Lu, Yuzhen},
    journal = {Journal of Food Engineering},
    year    = {2025},
    note    = {Under review}
}</pre>
    </section>

    <!-- Acknowledgements -->
    <section class="section">
        <h2>Acknowledgements</h2>
        <p>
            This work is supported by the <strong>Michigan Alliance for Animal Agriculture (M-AAA)</strong>,
            project ID number AA-23-0029, from AgBioResearch and MSU Extension at Michigan State
            University, in partnership with the <strong>Michigan Department of Agriculture and Rural
            Development</strong>. The authors thank <strong>Miller Poultry</strong> (Orland, IN) for providing chicken fillets and
            assisting in manual assessment of WB conditions in this study.
        </p>
    </section>

    <!-- Footer -->
    <footer class="contact">
        Contact: <strong>Jiaming Zhang</strong> — zhan2374 [at] msu [dot] edu
        <p style="margin-top: 10px; font-size: 0.9rem;">
            © 2025 Agriculture Food Sensing Intelligence Lab, Michigan State University
        </p>
    </footer>
</div>

<!-- JavaScript -->
<script>
    // Carousel functionality
    (function() {
        const rows = document.querySelectorAll('#wb-carousel .wb-row-group');
        let idx = 0, timer, dir = 1;

        const show = (n) => {
            rows[idx].classList.remove('active');
            idx = (n + rows.length) % rows.length;
            rows[idx].classList.add('active');
        };

        const next = () => show(idx + dir);
        const play = () => timer = setInterval(next, 4000);
        const stop = () => clearInterval(timer);

        // Button controls
        document.getElementById('nextGroup').onclick = () => {
            dir = 1;
            next();
            stop();
            play();
        };

        document.getElementById('prevGroup').onclick = () => {
            dir = -1;
            next();
            stop();
            play();
        };

        // Pause on hover
        const box = document.getElementById('wb-carousel');
        box.addEventListener('mouseenter', stop);
        box.addEventListener('mouseleave', play);
        play();

        // Image modal
        const modal = document.getElementById('imgModal');
        const modalImg = document.getElementById('modalImg');
        const closeBtn = document.getElementById('imgClose');

        box.querySelectorAll('img').forEach(img => {
            img.addEventListener('click', () => {
                modalImg.src = img.src;
                modal.style.display = 'flex';
                stop();
            });
        });

        const hideModal = () => {
            modal.style.display = 'none';
            play();
        };

        closeBtn.onclick = hideModal;
        modal.onclick = (e) => {
            if (e.target === modal) hideModal();
        };

        document.addEventListener('keydown', e => {
            if (e.key === 'Escape') hideModal();
        });
    })();

    // Smooth scroll for anchor links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function(e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute('href'));
            if (target) {
                target.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            }
        });
    });

    // Add loading animation
    window.addEventListener('load', () => {
        document.body.style.opacity = '1';
    });
</script>
</body>
</html>